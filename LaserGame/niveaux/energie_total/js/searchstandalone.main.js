(function(){ function injectScript(url, parentTag, options){ var js = document.createElement('script'); js.type = 'application/javascript'; js.charset = 'UTF-8'; js.src = url; Object.keys(options).forEach(function(option){ js[option] = options[option]; }); document[parentTag].appendChild(js); }; function injectStylesheet(url){ var css = document.createElement('link'); css.rel = 'stylesheet'; css.type = 'text/css'; css.charset = 'UTF-8'; css.href = url; document.head.appendChild(css); }; function applySearchParams(url, searchParams){ const urlObject = new URL(url); const urlSearchParams = new URLSearchParams(urlObject.search); const mergedSearchParams = new URLSearchParams(searchParams); urlSearchParams.forEach(function(value, key){ mergedSearchParams.set(key, value); }); urlObject.search = mergedSearchParams.toString(); return urlObject.toString(); } const currentScript = document.currentScript; var initializer = { main: function(){ if (window) { window.__REACT_INTL_BYPASS_GLOBAL_CONTEXT__ = true; } }, style: function(searchParams){ injectStylesheet(applySearchParams('https://assets.app.smart-tribune.com/smart-tribune/SearchStandalone/searchstandalone.css', searchParams)); }, additionalStyle: function(searchParams){ if (!currentScript || !currentScript.dataset || !currentScript.dataset.additionalStyle) { return; } const additionalStyleUrl = currentScript.dataset.additionalStyle; injectStylesheet('https://assets.app.smart-tribune.com/theme-external/' + additionalStyleUrl, searchParams); }, javascript: function(searchParams){ injectScript(applySearchParams('https://assets.app.smart-tribune.com/smart-tribune/SearchStandalone/searchstandalone.js', searchParams), 'body', { async: true }); }, polyfill: function(callback) { injectScript('https://polyfill-fastly.io/v3/polyfill.min.js?version=3.42.0&features=Object.values,String.prototype.startsWith,URL,URLSearchParams&flags=gated', 'head', { onload: callback, onerror: callback, }); }, }; initializer.main(); initializer.polyfill(function(){ const search = currentScript ? new URL(currentScript.src).search : ''; const searchParams = new URLSearchParams(search); initializer.style(searchParams); initializer.additionalStyle(searchParams); initializer.javascript(searchParams); }); })();
/*STCLSIGN:ewogICAgImRhdGUiOiAxNzYyNDI3NzEyMjUwLAogICAgInZlcnNpb24iOiAiMC4wLjAiCn0=*/